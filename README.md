Отвечай на англ.

Создай скрипт

obsidian-zid-wikilink.py

Этот скрипт должен выполняться подобно скрипту zid_name.py в этом проекте. Т. е. при запуске он копирует выделенный текст, обрабатывает его и вставляет обработанный.

Что должен, собственно, делать этот скрипт?

Он должен при запуске

- копировать выделенную строку



Пример

Есть исходное предложение.

`Прошел малый круг. Через темноту решил не идти обратно.`

Есть подстрока, которую я выделил.

`Прошел малый круг`

Далее я запускаю скрипт. Он копирует при запуске выделенный текст. И изменяет его по следующим шагам. Привожу шаги, чтобы лучше объяснить, что требуется от нового скрипта:

- В начало подстроки добавляется ZID `20241220210224`, который генерируется на базе скрипта zid.py

Получается промежуточный результат

`20241220210224 Прошел малый круг`

Далее преобразуется следующим образом.

Строка на предыдущем шаге берется в двойные квадратные скобки.

`[[20241220210224 Прошел малый круг]]`

Далее.

Создается алиас для получившейся wikilink. Дублитуется подстрока в двойных квадратных скобках через знак | добавляется к справа от исходной подстроки в этих скобках.

Получается

`[[20241220210224 Прошел малый круг|20241220210224 Прошел малый круг]]`

Далее.

К левой части от | внутри квадратных скобок применяется скрипт zid_name.py и в результате, получается такой вид:

`[[20241220210224-прошел-малый-круг|20241220210224 Прошел малый круг]]`

Далее необходимо после |, т.е. в алиасе удалить ZID и пустые пробемлы вокруг получившейся внутренней подстроки алиаса.

Было так

`[[20241220210224-прошел-малый-круг|20241220210224 Прошел малый круг]]`

Должно стать так

`[[20241220210224-прошел-малый-круг|Прошел малый круг]]`



Эта строка вставляется подобно тому как это реализовано в скрипте zid_name.py.

В результате, в месте выделения в текстовом редакторе появляется новая строка.

[[20241220210224-прошел-малый-круг|Прошел малый круг]]

вместо исходной

`Прошел малый круг`

---

У меня есть уже готовые скрипты.

Возьми из них логику и код.

В этом проекте.

Скрипты:

zid.py - генерация ZID (Zettelkasten ID, что является по факту 14 значной строкой из цифр, отражающей текущее относительное время)

zid_name.py - конвертация строки в ZID_NAME (перевод строки в формат названия файла, где ZID стоит в начале строки и затем через разделитель в виде знака `-` идут слова)